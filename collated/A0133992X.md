# A0133992X
###### src\Fonts\ChineseJudge.java
``` java
package Fonts;

import java.util.regex.Matcher;
import java.util.regex.Pattern;

public class ChineseJudge {
	private String REGEX = "[\u4e00-\u9fa5]";
	private Pattern PAT = Pattern.compile(REGEX);
	private static ChineseJudge theChineseJudge;
	
	private ChineseJudge(){
	}
	
	public static ChineseJudge getInstance(){
		if(theChineseJudge == null){
			theChineseJudge = new ChineseJudge();
		}
		return theChineseJudge;
	}
	
	public boolean isContainsChinese(String str){
		Matcher matcher = PAT.matcher(str);
		boolean flg = false;
		if(matcher.find()){
			flg = true;
		}
		return flg;
	}
}
```
###### src\GUI\GUIController.java
``` java
package GUI;

import java.io.File;
import java.io.IOException;
import java.net.MalformedURLException;
import java.text.ParseException;
import java.util.ArrayList;
import java.util.logging.Level;
import java.util.logging.Logger;

import Tasks.NumberedEvent;
import javafx.event.EventHandler;
import javafx.scene.control.TextArea;
import javafx.scene.control.TextField;
import javafx.scene.image.ImageView;
import javafx.scene.input.KeyCode;
import javafx.scene.input.KeyEvent;
import javafx.scene.input.MouseEvent;
import javafx.scene.layout.GridPane;
import javafx.stage.Stage;

public class GUIController {
	private int X = 0;
	private int Y = 0;
	private Logger logger = Logger.getLogger("GUILogic");
	private static GUIController theGUIController;
	
	private GUIController(){
	}
	
	protected static GUIController getInstance(){
		if(theGUIController == null){
			theGUIController = new GUIController();
		}
		return theGUIController;
	}
	
	public void showEvents(GridPane eventGrid, ImageView deadline, ImageView eventIcon, ImageView floatingIcon)
			throws IOException, ParseException {
		initialize();
		// deadline icon
		addIcon(eventGrid, deadline);
		addTaskBox(eventGrid, Yui_GUI.myUIBuffer.DeadlineList());
		// event icon
		addIcon(eventGrid, eventIcon);
		addTaskBox(eventGrid, Yui_GUI.myUIBuffer.EventList());
		// floating tasks icon
		addIcon(eventGrid, floatingIcon);
		addFloatingBox(eventGrid);
	}
	
	private boolean isShowMainGrid(){
		Yui_GUI.myUIBuffer.getIsShowMainGrid();
		return Yui_GUI.myUIBuffer.isShowMainGrid();
	}
	
	public void refreshTheme(){
		Yui_GUI.myUIBuffer.getTheme();
		String thisTheme = Yui_GUI.myUIBuffer.theme();
		if(thisTheme.equals("1")){
			Yui_GUI.listBkImage = Yui_GUI.listBkImage1;
		}
		if(thisTheme.equals("2")){
			Yui_GUI.listBkImage = Yui_GUI.listBkImage2;
		}
		if(thisTheme.equals("my theme")){
			File myTheme = new File(Yui_GUI.listBackgroundPath3);
			if (myTheme.exists()) {
				Yui_GUI.listBkImage = Yui_GUI.listBkImage3;
			}
		}
		Yui_GUI.listBk.setImage(Yui_GUI.listBkImage);
	}
	
	private void initialize() throws IOException, ParseException{
		Yui_GUI.myUIBuffer.getList();
		Y = 0;
	}
	
	private void addIcon(GridPane taskGrid, ImageView Icon){
		taskGrid.add(Icon, 0, Y);
		Y = Y + 1;
	}
	
	private void addTaskBox(GridPane taskGrid, ArrayList<NumberedEvent> tasksList) throws MalformedURLException{
		ArrayList<NumberedEvent> tasks = tasksList;
		int ddlLength = tasks.size();
		GridPane deadlineBox = new GridPane();
		deadlineBox.setVgap(1);
		// Y = ddlLength;
		for (int i = 0; i < ddlLength; i++) {
			NumberedEvent thisTask = tasks.get(i);
			UITask thisTasksBox = new UITask(thisTask);
			deadlineBox.add(thisTasksBox.getTaskBox(), X, i);
		}
		taskGrid.add(deadlineBox, 0, Y);
		Y = Y + 1;
	}
	
	private void addFloatingBox(GridPane taskGrid) throws MalformedURLException{
		ArrayList<NumberedEvent> floating = Yui_GUI.myUIBuffer.FloatingList();
		int fltLength = floating.size();
		GridPane floatingBox = new GridPane();
		floatingBox.setVgap(1);
		floatingBox.setHgap(1);
		for (int i = 0; i < fltLength; i++) {
			NumberedEvent thisFloating = floating.get(i);
			UITask thisFltBox = new UITask(thisFloating);
			if (i % 2 == 0) {
				X = 0;
			} else {
				X = 1;
			}
			int y = i / 2;
			floatingBox.add(thisFltBox.getTaskBox(), X, y);
		}
		taskGrid.add(floatingBox, 0, Y);
	}
	
	protected void keyboardCatcher(final TextField userCommandBox, final TextArea showBox){
		userCommandBox.setOnKeyPressed(new EventHandler<KeyEvent>(){
	    	   @Override
	    	   public void handle(KeyEvent event) {
	    		   if(event.getCode().equals(KeyCode.ENTER)){
	    			   handleEvent(userCommandBox, showBox);
	    		   }

	    		   if(event.isAltDown()){
	    			   if(event.getCode().equals(KeyCode.UP)){
	    				   showBox.setScrollTop(showBox.getScrollTop() - 5f);
	    			   }
	    			   if(event.getCode().equals(KeyCode.DOWN)){
	    				   showBox.setScrollTop(showBox.getScrollTop() + 5f);
	    			   }
	    			   if(event.getCode().equals(KeyCode.LEFT)){
	    				   showBox.setScrollLeft(showBox.getScrollLeft() - 5f);
	    			   }
	    			   if(event.getCode().equals(KeyCode.RIGHT)){
	    				   showBox.setScrollLeft(showBox.getScrollLeft() + 5f);
	    			   }
	    		   } else {
		    		   if(event.getCode().equals(KeyCode.UP)){
		    			   Yui_GUI.eventPane.setVvalue(Yui_GUI.eventPane.getVvalue() - 0.3f);
		    		   }
		    		   if(event.getCode().equals(KeyCode.DOWN)){
		    			   Yui_GUI.eventPane.setVvalue(Yui_GUI.eventPane.getVvalue() + 0.3f);
		    		   }
	    		   }
	    	   }
	       });
	}
	
	protected void mouseCatcher(ImageView enterKey, final TextField userCommandBox, final TextArea showBox){
		enterKey.setOnMouseClicked(new EventHandler<MouseEvent>(){
	    	   @Override
	    	   public void handle(MouseEvent event) {
	    		   handleEvent(userCommandBox, showBox);
	    	   }
	       });
	}
	
	private void handleEvent(final TextField userCommandBox, final TextArea showBox){
		passCommands(userCommandBox);
		   //link with logic
		if(!Yui_GUI.userCommand.equals("")){
		   refresh(showBox);
		}
	}
	
	private void passCommands(TextField userCommandBox){
		Yui_GUI.userCommand = userCommandBox.getText();
		System.out.print(Yui_GUI.userCommand);
		userCommandBox.clear();
	}
	
	private void refresh(TextArea showBox){
		refreshWithTry(showBox);
		refreshEveryTime(showBox);
	}
	
	private void refreshWithTry(TextArea showBox){
		try {
			   logger.log(Level.INFO, "get the output");
			   Yui_GUI.myUIBuffer.getFeedback(Yui_GUI.userCommand);
			   Yui_GUI.returnCommand =  Yui_GUI.myUIBuffer.returnedCommand();
			   Yui_GUI.eventGrid.getChildren().clear();
			   Yui_GUI.myGUIController.showEvents(Yui_GUI.eventGrid,Yui_GUI.deadlineIcon, Yui_GUI.eventIcon, Yui_GUI.floatingIcon);
		   } catch (IOException e) {
			   logger.log(Level.WARNING, "output error", e);
			   e.printStackTrace();
		   } catch (ParseException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		   }
	}
	
	private void refreshEveryTime(TextArea showBox){
		Yui_GUI.mainGrid.setVisible(Yui_GUI.myGUIController.isShowMainGrid());
		Yui_GUI.btnTodolist.setVisible(Yui_GUI.myGUIController.isShowMainGrid());
		Yui_GUI.webBox.setVisible(!Yui_GUI.myGUIController.isShowMainGrid());
		Yui_GUI.btnCalendar.setVisible(!Yui_GUI.myGUIController.isShowMainGrid());
		showBox.appendText(Yui_GUI.returnCommand + "\n" + "\n");
		Yui_GUI.myGUIController.refreshTheme();
		logger.log(Level.INFO, "end of processing");
	}
	
	public void dragStage(GridPane grid, final Stage primaryStage){
		grid.setOnMousePressed(new EventHandler<MouseEvent>() {
	           @Override
	           public void handle(MouseEvent event) {
	               Yui_GUI.xOffset = event.getSceneX();
	               Yui_GUI.yOffset = event.getSceneY();
	           }
	       });

	       grid.setOnMouseDragged(new EventHandler<MouseEvent>() {
	           @Override
	           public void handle(MouseEvent event) {
	               primaryStage.setX(event.getScreenX() - Yui_GUI.xOffset);
	               primaryStage.setY(event.getScreenY() - Yui_GUI.yOffset);
	           }
	       });
	}
}
```
###### src\GUI\TrayController.java
``` java
package GUI;

import java.awt.AWTException;
import java.awt.SystemTray;
import java.awt.Toolkit;
import java.awt.TrayIcon;
import java.awt.event.ActionListener;
import java.awt.event.MouseAdapter;

import javafx.application.Platform;
import javafx.event.EventHandler;
import javafx.scene.Scene;
import javafx.scene.image.Image;
import javafx.stage.Stage;
import javafx.stage.WindowEvent;

public class TrayController {
	private TrayIcon trayIcon;
	Stage stage;
	Scene scene;
	private static TrayController theTrayController;
	
	private TrayController(){
	}
	
	public static TrayController getInstance(){
		if(theTrayController == null){
			theTrayController = new TrayController();
		}
		return theTrayController;
	}

	public TrayIcon createTrayIcon(final Stage stage) {

		if (SystemTray.isSupported()) {
			SystemTray tray = SystemTray.getSystemTray();
			java.awt.Image image = Toolkit.getDefaultToolkit().getImage(TrayController.class.getResource(Yui_GUI.ICON_PATH));
			stage.getIcons().add(new Image(Yui_GUI.ICON_PATH));

			stage.setOnCloseRequest(new EventHandler<WindowEvent>() {
				@Override
				public void handle(WindowEvent t) {
					Platform.runLater(new Runnable() {
						@Override
						public void run() {
							if (SystemTray.isSupported()) {
								stage.hide();
								showTrayMsg();
							} else {
								System.exit(0);
							}
						}
					});
				}
			});


			ActionListener showListener = new ActionListener() {
				@Override
				public void actionPerformed(java.awt.event.ActionEvent e) {
					Platform.runLater(new Runnable() {
						@Override
						public void run() {
							stage.show();
							stage.toFront();
						}
					});
				}
			};

			trayIcon = new TrayIcon(image, "Yui");
			trayIcon.setImageAutoSize(true);
			trayIcon.addActionListener(showListener);
			trayIcon.addMouseListener(new MouseAdapter() {
				@Override
				public void mouseClicked(java.awt.event.MouseEvent e) {
					if (e.getButton() == 1) {
						Platform.runLater(new Runnable() {
							@Override
							public void run() {
								stage.show();
								stage.toFront();
							}
						});
					}
				};
			});


			try {
				tray.add(trayIcon);
			} catch (AWTException e) {
				System.err.println(e);
			}
		}
		return trayIcon;
	}

	public void showTrayMsg() {
		trayIcon.displayMessage("Yui", "My Master, I am still here~", TrayIcon.MessageType.INFO);
	}
}
```
###### src\GUI\UIBuffer.java
``` java
package GUI;

import java.io.IOException;
import java.text.ParseException;
import java.util.ArrayList;

import Logic.MainLogic;
import Tasks.NumberedEvent;

public class UIBuffer {
	private ArrayList<NumberedEvent> DeadLineList;
	private ArrayList<NumberedEvent> EventList;
	private ArrayList<NumberedEvent> FloatingList;
	private String returnedCommand;
	private boolean isShowMainGrid;
	private String theme;
	private static UIBuffer theUIBuffer;
	
	private UIBuffer(){
	}
	
	public static UIBuffer getInstance(){
		if(theUIBuffer == null){
			theUIBuffer = new UIBuffer();
		}
		return theUIBuffer;
	}
	
	private void getDealineList() throws IOException, ParseException{
		DeadLineList = MainLogic.getDealine();
	}
	
	private void getEventList() throws IOException, ParseException{
		EventList = MainLogic.getEventTime();
	}
	
	private void getFloatingList() throws IOException, ParseException{
		FloatingList = MainLogic.getFloating();
	}
	
	public void getTheme(){
		theme = MainLogic.getTheme();
	}
	
	public void getList() throws IOException, ParseException{
		getDealineList();
		getEventList();
		getFloatingList();
	}
	
	public ArrayList<NumberedEvent> DeadlineList(){
		return DeadLineList;
	}
	
	public ArrayList<NumberedEvent> EventList(){
		return EventList;
	}
	
	public ArrayList<NumberedEvent> FloatingList(){
		return FloatingList;
	}
	
	public void initializeCommand(String userCommand) throws IOException, ParseException{
		returnedCommand = MainLogic.initialize();
	}
	
	public void getFeedback(String userCommand) throws IOException, ParseException{
		returnedCommand = MainLogic.implement(userCommand);
	}
	
	public String returnedCommand(){
		return returnedCommand;
	}
	
	public void getIsShowMainGrid(){
		isShowMainGrid = !MainLogic.getIsShow();
	}
	
	public boolean isShowMainGrid(){
		return isShowMainGrid;
	}
	
	public String theme(){
		return theme;
	}
}
```
###### src\GUI\UITask.java
``` java
package GUI;

import java.net.MalformedURLException;
import java.text.SimpleDateFormat;
import java.util.Date;
import java.util.Locale;

import Fonts.ChineseJudge;
import Image.ImageJudge;
import Tasks.Event;
import Tasks.NumberedEvent;
import javafx.geometry.Insets;
import javafx.scene.Group;
import javafx.scene.image.Image;
import javafx.scene.image.ImageView;
import javafx.scene.layout.GridPane;
import javafx.scene.paint.Color;
import javafx.scene.text.Font;
import javafx.scene.text.Text;

public class UITask {
	private Event thisTask;
	public GridPane TaskPane = new GridPane();
	//Event data
	private Date theDate;
	private String timeString;
	private String dateString;
	private String eventName;
	private String commentString;
	private int num;
	//Panes
	private GridPane number;
	private GridPane time;
	private GridPane name;		
	private GridPane date;
	private GridPane comment;
	//ImageView
	private ImageView commentBk = new ImageView();
	private ImageView nameBk = new ImageView();
	private ImageView numberBk = new ImageView();
	private ImageView timeBk = new ImageView();
	private ImageView dateBk = new ImageView();
	//Background
	private Group numberBackg = new Group();
	private Group timeBackg = new Group();
	private Group nameBackg = new Group();
	private Group dateBackg = new Group();
	private Group commentBackg = new Group();
	private final int NAME_MAX_LENGTH_S = 14;
	private final int NAME_MAX_LENGTH_L = 20;
	private final int SINGLE_BIT_NUMBER = 9;
	private final SimpleDateFormat DATE_FORMATE_DATE = new SimpleDateFormat("EEE, dd/MM/yyyy", Locale.ENGLISH);
	private final SimpleDateFormat DATE_FORMATE_TIME = new SimpleDateFormat("HH : mm");
	private final int TYPE_DEADLINE_OR_EVERNT = 0;
	private final int TYPE_FLOATING = 1;
	private int type;
	private static ChineseJudge myChineseJudge;
	private static ImageJudge myImageJudge;
	
	public UITask(NumberedEvent numberedEvent) throws MalformedURLException{
		readEvent(numberedEvent);
		buildGrid(type);
		buildImageView(type);
		setBackground(type);
		TaskPane.setHgap(1);
		setNum();	
		setName(type);
		if(type == TYPE_DEADLINE_OR_EVERNT){
			setTime();
			setDate();
		}	
	    addAllElements(type);
	}
	
	private void readEvent(NumberedEvent numberedEvent){
		thisTask = numberedEvent.getEvent();
		typeJudge(thisTask);
		eventName = thisTask.getDetail();
		commentString = thisTask.getComment();
		num = numberedEvent.getIndex();
		myChineseJudge = ChineseJudge.getInstance();
		myImageJudge = ImageJudge.getInstance();
	}
	
	private void typeJudge(Event thisTask){
		if(!(thisTask.getDeadline() == null) ||!(thisTask.getEventTime() == null)){
			if(!(thisTask.getDeadline() == null)){
				readDeadline();
			}
			if(!(thisTask.getEventTime() == null)){
				readEvent();
			}
			dateString = DATE_FORMATE_DATE.format(theDate);
			type = TYPE_DEADLINE_OR_EVERNT;
		} else {
			type = TYPE_FLOATING;
		}
	}
	
	private void readDeadline(){
		theDate = thisTask.getDeadline().getDeadline();
		timeString = DATE_FORMATE_TIME.format(theDate);
	}
	
	private void readEvent(){
		theDate = thisTask.getEventTime().getStart();
		timeString = DATE_FORMATE_TIME.format(thisTask.getEventTime().getStart()) + " -"
					+ DATE_FORMATE_TIME.format(thisTask.getEventTime().getEnd());
	}
	
	private void buildGrid(int type){
		if(type == TYPE_DEADLINE_OR_EVERNT){
			time = new GridPane();
			date = new GridPane();
		}
		number = new GridPane();
		name = new GridPane();		
		comment = new GridPane();
	}
	
	private void buildImageView(int type){
		if(type == TYPE_DEADLINE_OR_EVERNT){
			Image nameDateTimeImage = new Image(getClass().getResourceAsStream("/Image/NTD.png"));
			Image dangerImage = new Image(getClass().getResourceAsStream("/Image/danger.png"));
			if(myImageJudge.isToday(theDate)){
				nameBk = new ImageView(dangerImage);
			} else {
				nameBk = new ImageView(nameDateTimeImage);
			}
			timeBk = new ImageView(nameDateTimeImage);
			dateBk = new ImageView(nameDateTimeImage);
		}
		if(type == TYPE_FLOATING){
			Image nameImage = new Image(getClass().getResourceAsStream("/Image/memoPad.png"));
			nameBk = new ImageView(nameImage);
		}
		Image numberImage = new Image(getClass().getResourceAsStream("/Image/number.png"));
		Image uncommentImage = new Image(getClass().getResourceAsStream("/Image/uncomment.png"));
		Image commentImage = new Image(getClass().getResourceAsStream("/Image/comment.png"));
		
		numberBk = new ImageView(numberImage);
		if(myImageJudge.isCommented(commentString)){
			commentBk = new ImageView(commentImage);
	    } else {
	    	commentBk = new ImageView(uncommentImage);
	    }
	}
	
	private void setBackground(int type){
		if(type == TYPE_DEADLINE_OR_EVERNT){
			timeBackg.getChildren().addAll(timeBk,time);
			dateBackg.getChildren().addAll(dateBk,date);
		}
		numberBackg.getChildren().addAll(numberBk,number);
		nameBackg.getChildren().addAll(nameBk,name);
		commentBackg.getChildren().addAll(commentBk,comment);
	}
	
	private void setNum(){
	    Text tN = new Text(" " + num);
	    tN.setFont(Font.loadFont(getClass().getResourceAsStream("/Fonts/UI.ttf"), 18));
	    tN.setFill(Color.WHITE);
	    number.setPadding(new Insets(4, 1, 1, 5));
	    if(num > SINGLE_BIT_NUMBER){
	    	number.setPadding(new Insets(4, 1, 1, 1));
	    }
	    number.add(tN, 0, 0);
	}
	
	private void setTime(){
		Text tT = new Text(timeString);
	    tT.setFont(Font.loadFont(getClass().getResourceAsStream("/Fonts/UI.ttf"), 18));
	    tT.setFill(Color.WHITE);
	    time.setPadding(new Insets(4, 1, 1, 5));
	    time.add(tT, 0, 0);
	}
	
	private void setName(int type){
		int nameMaxLength;
		if(type == TYPE_DEADLINE_OR_EVERNT){
			nameMaxLength = NAME_MAX_LENGTH_S;
		} else {
			nameMaxLength = NAME_MAX_LENGTH_L;
		}
		if(eventName.length() > nameMaxLength){
	    	eventName = eventName.substring(0, nameMaxLength - 1) + "..";
	    }
	    Text tNm = new Text(" " + " " + eventName);
	    if(myChineseJudge.isContainsChinese(eventName)){
	    	tNm.setFont(Font.loadFont(getClass().getResourceAsStream("/Fonts/CN.ttf"), 16));
	    } else {
	    	tNm.setFont(Font.loadFont(getClass().getResourceAsStream("/Fonts/UI.ttf"), 18));
	    }
	    tNm.setFill(Color.WHITE);
	    name.setPadding(new Insets(4, 1, 1, 1));
	    name.add(tNm, 0, 0);
	}
	
	private void setDate(){
		Text tD = new Text(dateString);
	    tD.setFont(Font.loadFont(getClass().getResourceAsStream("/Fonts/UI.ttf"), 18));
	    tD.setFill(Color.WHITE);
	    date.setPadding(new Insets(4, 1, 1, 5));
	    date.add(tD, 0, 0);
	}
	
	private void addAllElements(int type){
		if(type == TYPE_DEADLINE_OR_EVERNT){
			TaskPane.setPrefSize(380, 25);
			TaskPane.add(numberBackg, 0, 0);
			TaskPane.add(timeBackg, 1, 0);
			TaskPane.add(nameBackg, 2, 0);
			TaskPane.add(dateBackg, 3, 0);
			TaskPane.add(commentBackg, 4, 0);
		} else {
			TaskPane.setPrefSize(190, 25);
		    TaskPane.add(numberBackg, 0, 0);
		    TaskPane.add(nameBackg, 1, 0);
		    TaskPane.add(commentBackg, 2, 0);
		}
		
	}
	
	public GridPane getTaskBox(){
		return TaskPane;
	}
}
```
###### src\GUI\Yui_GUI.java
``` java
package GUI;

import java.io.File;
import java.io.IOException;
import java.net.MalformedURLException;
import java.text.ParseException;
import javafx.application.Application;
import javafx.event.EventHandler;
import javafx.geometry.Insets;
import javafx.scene.Group;
import javafx.scene.Scene;
import javafx.scene.control.ScrollPane;
import javafx.scene.control.ScrollPane.ScrollBarPolicy;
import javafx.scene.control.TextArea;
import javafx.scene.control.TextField;
import javafx.scene.image.Image;
import javafx.scene.image.ImageView;
import javafx.scene.input.MouseEvent;
import javafx.scene.layout.GridPane;
import javafx.scene.web.WebEngine;
import javafx.scene.web.WebView;
import javafx.stage.Stage;
import javafx.stage.StageStyle;

public class Yui_GUI extends Application{
	private final String OK_PATH = "/Image/ok.png";
	private final String DEADLINE_ICON_PATH = "/Image/deadlineN.png";
	private final String EVENT_ICON_PATH = "/Image/eventN.png";
	private final String FLOAT_ICON_PATH = "/Image/floatingN.png";
	private final String BACKGROUND_PATH = "/Image/uigroundN.png";
	private final String LOGO_PATH = "/Image/logo.png";
	public static final String ICON_PATH = "/Image/icon.png";
	private final String EXIT_PATH = "/Image/exit.png";
	private final String MENU_STATE1_PATH = "/Image/menu.png";
	private final String MENU_STATE2_PATH = "/Image/menu2.png";
	private final String LIST_BACK_PATH1 = "/Image/theme1.png";
	private final String LIST_BACK_PATH2 = "/Image/theme2.png";
	private Stage myStage;
	private GridPane backgroundGrid = new GridPane();
	private ImageView enterKey = new ImageView();
	private Group backg = new Group();
	private TextField userCommandBox = new TextField();
	protected static String userCommand;
	protected static String returnCommand;
	protected static double xOffset = 0;
	protected static double yOffset = 0;
	protected static GridPane mainGrid = new GridPane();
	protected static ScrollPane eventPane = new ScrollPane();
	protected static GridPane eventGrid = new GridPane();
	protected static ImageView listBk = new ImageView();
	protected static ImageView deadlineIcon = new ImageView();
	protected static ImageView eventIcon = new ImageView();
	protected static ImageView floatingIcon = new ImageView();
	protected TextArea showBox = new TextArea();
	protected static WebView webBox = new WebView();
	protected static ImageView btnTodolist = new ImageView();
	protected static ImageView btnCalendar = new ImageView();
	public static String listBackgroundPath3 = "user.dir/myTheme.png";
	public static Image listBkImage1;
	public static Image listBkImage2;
	public static Image listBkImage3;
	public static Image listBkImage;
	protected static GUIController myGUIController;
	protected static TrayController myTrayController;
	//protected static UIHotKey myUIHotKey;
	protected static UIBuffer myUIBuffer;
	
	public static void main(String[] args) {
       launch();
    }

	@Override
   	public void start(final Stage primaryStage) throws IOException, ParseException {
	   setMyStage(primaryStage, ICON_PATH);
       
	   initializeMsg();
    
       setBackgrounfGrid();
       setMainGrid(backgroundGrid);
       setEventScrollPane(mainGrid);
       setEventGrid(eventPane);
       setTaskIcon(DEADLINE_ICON_PATH, EVENT_ICON_PATH, FLOAT_ICON_PATH);
       
       myGUIController.showEvents(eventGrid,deadlineIcon, eventIcon, floatingIcon);

       setBackground(BACKGROUND_PATH);
       setLogo(LOGO_PATH, backgroundGrid);
       setExitButton(EXIT_PATH, backgroundGrid);
       setMenuIcon(MENU_STATE1_PATH, MENU_STATE2_PATH, backgroundGrid);
       setOKButton(OK_PATH, backgroundGrid);

       //Control the dragging of stage
       myGUIController.dragStage(backgroundGrid, myStage);
       
       setScene();
       setShowBox(mainGrid);
       setCommandBox(backgroundGrid);
       setWebGrid(backgroundGrid);
       
       HotKey(myStage);
       showBox.appendText(returnCommand + "\n");
       MotionCatch();
   }
   
   private void initializeMsg() throws IOException, ParseException{
	   myUIBuffer = UIBuffer.getInstance();
	   myUIBuffer.initializeCommand(userCommand);
	   returnCommand = myUIBuffer.returnedCommand();
	   myGUIController  = GUIController.getInstance();
	   myTrayController = TrayController.getInstance();
	   //myUIHotKey = UIHotKey.getInstance();
   }
   
   private void setMyStage(Stage primaryStage, String iconString){
	   myStage = primaryStage;
	   myStage.setTitle("Yui");
	   myStage.initStyle(StageStyle.UNDECORATED);
	   myStage.getIcons().add(new Image(getClass().getResourceAsStream("/Image/icon.png")));
	   myStage.show();
	   myStage.setX(450);
	   myStage.setY(250);
   }
   
   private void setBackgrounfGrid(){
	   backgroundGrid.setHgap(5);
	   backgroundGrid.setVgap(5);
	   backgroundGrid.setPadding(new Insets(15, 7.5, 7.5, 37.5));
   }
   
   private void setMainGrid(GridPane bkGrid){
       mainGrid.setHgap(10);
       mainGrid.setPrefSize(735, 420);
       bkGrid.add(mainGrid, 0, 2);
   }
   
   private void setEventScrollPane(GridPane mainGrid){
       eventPane.setPrefSize(382.5, 420);
       eventPane.setHbarPolicy(ScrollBarPolicy.NEVER);
       eventPane.setVbarPolicy(ScrollBarPolicy.NEVER);
       mainGrid.add(eventPane, 1, 0);
   }
   
   private void setEventGrid(ScrollPane eventPane) throws MalformedURLException{
       eventGrid.setHgap(1);
       eventGrid.setVgap(2);
       setEventGridBackground(eventPane);
   }
   
   private void setEventGridBackground(ScrollPane eventPane) throws MalformedURLException{
	   listBkImage1 = new Image(getClass().getResourceAsStream(LIST_BACK_PATH1));
       listBkImage2 = new Image(getClass().getResourceAsStream(LIST_BACK_PATH2));
       if(new File(listBackgroundPath3).exists()){
    	   listBkImage3 = new Image(new File(listBackgroundPath3).toURI().toURL().toString());
       }
       myGUIController.refreshTheme();
       Group listAllBack = new Group();
       listAllBack.getChildren().addAll(listBk, eventGrid);
       eventPane.setContent(listAllBack);
   }
   
   private void setTaskIcon(String dP, String eP, String fP){
	   deadlineIcon = new ImageView(new Image(getClass().getResourceAsStream(dP)));
       eventIcon = new ImageView(new Image(getClass().getResourceAsStream(eP)));
   	   floatingIcon = new ImageView(new Image(getClass().getResourceAsStream(fP)));
   }
   
   private void setBackground(String bkPath){
	   Image background = new Image(getClass().getResourceAsStream(bkPath));
       ImageView bk = new ImageView(background);
       backg.getChildren().addAll(bk,backgroundGrid);
   }
   
   private void setLogo(String logoPath, GridPane backgroundGrid){
	   Image logoYui = new Image(getClass().getResourceAsStream(logoPath));
       backgroundGrid.add(new ImageView(logoYui), 0, 0);
   }
   
   private void setExitButton(String exitPath, GridPane backgroundGrid){
	   Image imageExit = new Image(getClass().getResourceAsStream(exitPath));
       ImageView exit = new ImageView(imageExit);
       exit.setOnMouseClicked(new EventHandler<MouseEvent>(){
    	   @Override
    	   public void handle(MouseEvent event) {
    		   System.exit(0);
    		   //Event.fireEvent(myStage, new WindowEvent(myStage, WindowEvent.WINDOW_CLOSE_REQUEST ));
    		   }
    	   });
       backgroundGrid.add(exit, 4, 0);
   }
   
   private void setMenuIcon(String memuState1, String memuState2, GridPane backgroundGrid){
	   Image menuTodolist = new Image(getClass().getResourceAsStream(memuState1));
       Image menuCalendar = new Image(getClass().getResourceAsStream(memuState2));
       btnTodolist = new ImageView(menuTodolist);
       btnCalendar = new ImageView(menuCalendar);
       btnCalendar.setVisible(false);
       backgroundGrid.add(btnTodolist, 4, 2);
       backgroundGrid.add(btnCalendar, 4, 2);
   }
   
   private void setOKButton(String okPath, GridPane backgroundGrid){
	   Image enter = new Image(getClass().getResourceAsStream(okPath));
       enterKey = new ImageView(enter);
       backgroundGrid.add(enterKey, 4, 3);
   }
   
   private void setScene(){
	   Scene scene = new Scene(backg, 861, 556);
       myStage.setScene(scene);
   }
   
   private void setShowBox(GridPane mainGrid){
       showBox.setPrefSize(337.5, 420);
       showBox.setStyle("overflow-x:hidden;");
       mainGrid.add(showBox, 0, 0);
       showBox.setEditable(false);
       showBox.setWrapText(true);
   }
   
   private void setCommandBox(GridPane backgroundGrid){
	   backgroundGrid.add(userCommandBox, 0, 3);
       userCommandBox.requestFocus();
   }
   
   private void setWebGrid(GridPane backgroundGrid){
	   final WebEngine myEngin = webBox.getEngine();
       myEngin.load("https://nusmods.com");
       webBox.setPrefSize(735,420);
       webBox.setVisible(false);
       backgroundGrid.add(webBox, 0, 2);
   }
   
   private void HotKey(Stage myStage) throws IOException{
	   //myUIHotKey.listenHotKey(myStage);
	   myTrayController.createTrayIcon(myStage);
   }
   
   private void MotionCatch(){
	   myGUIController.keyboardCatcher(userCommandBox, showBox);
       myGUIController.mouseCatcher(enterKey, userCommandBox, showBox);
   }
}



```
###### src\Image\ImageJudge.java
``` java
package Image;

import java.text.SimpleDateFormat;
import java.util.Date;
	
public class ImageJudge {
	private SimpleDateFormat FORMATE_COMPARE = new SimpleDateFormat("yyyyMMdd");
	private static ImageJudge theImageJudge;
	
	private ImageJudge(){
	}
	
	public static ImageJudge getInstance(){
		if(theImageJudge == null){
			theImageJudge = new ImageJudge();
		}
		return theImageJudge;
	}
	
	public boolean isToday(Date theDate){
		Date today = new Date();
		String theDateString = FORMATE_COMPARE.format(theDate);
		String todayString = FORMATE_COMPARE.format(today);
		if(theDateString.equals(todayString)){
			return true;
		}
		return false;
	}
	
	public boolean isCommented(String comment){
		return !comment.equals("");
	}
}
```
###### src\Junit_Test\SUTParser_LHY.java
``` java
package Junit_Test;
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.ArrayList;
import java.util.Date;

import Parser.Parser;
import Tasks.Deadline;
import Tasks.Event;
import Tasks.EventTime;
import junit.framework.TestCase;

public class SUTParser_LHY extends TestCase{
	private static String EXPECTED_ACTION = "add";

	public void test_getAction(){
		String testResult = Parser.getAction("add");
		assertEquals(testResult, EXPECTED_ACTION);
	}

	//partition case test
	public void test_getParameter_1(){
		String test1 = "add try";
		ArrayList<String> expectedResult1 = new ArrayList<String>();
		expectedResult1.add("try");
		ArrayList<String> testResult1 = Parser.getParameter(test1);
		assertTrue(isSameList(testResult1, expectedResult1));
	}

	public void test_getParameter_2(){
		String test2 = "add try2 by 22:00 22/10/2015";
		ArrayList<String> expectedResult2 = new ArrayList<String>();
		expectedResult2.add("try2 ");
		expectedResult2.add("22:00");
		expectedResult2.add("22/10/2015");
		ArrayList<String> testResult2 = Parser.getParameter(test2);
		assertTrue(isSameList(testResult2, expectedResult2));
	}

	public void test_getParameter_3(){
		String test3 = "add try3 from 10:00 to 11:00 22/10/2015";
		ArrayList<String> expectedResult3 = new ArrayList<String>();
		expectedResult3.add("try3 ");
		expectedResult3.add("10:00 ");
		expectedResult3.add("11:00");
		expectedResult3.add("22/10/2015");
		ArrayList<String> testResult3 = Parser.getParameter(test3);
		assertTrue(isSameList(testResult3, expectedResult3));
	}

	private boolean isSameList(ArrayList<String> A, ArrayList<String> B){
		if(A.size() != B.size()){
			return false;
		} else {
			for(int i = 0; i < A.size(); i++){
				if(!A.get(i).equals(B.get(i))){
					return false;
				}
			}
		}
		return true;

	}

	public void test_parseForEvent1() throws ParseException{
		Event expected1 = new Event("try");
		Event result1 = Parser.parseForEvent(Parser.getParameter("add try"));
		assertTrue(isEqualEvent1(expected1,result1));
	}

	public void test_parseForEvent2() throws ParseException{
		String timeAndDate = "22:00 22/10/2015";
		SimpleDateFormat dateF = new SimpleDateFormat("HH:mm dd/MM/yyyy");
		Date thisDate = dateF.parse(timeAndDate);
		Event expected2 = new Event("try2 ", new Deadline(thisDate));
		Event result2 = Parser.parseForEvent(Parser.getParameter("add try2 by 22:00 22/10/2015"));
		assertTrue(isEqualEvent2(expected2,result2));
	}

	public void test_parseForEvent3() throws ParseException{
		String timeAndDate1 = "10:00 22/10/2015";
		String timeAndDate2 = "11:00 22/10/2015";
		SimpleDateFormat dateF = new SimpleDateFormat("HH:mm dd/MM/yyyy");
		Date sDate = dateF.parse(timeAndDate1);
		Date eDate = dateF.parse(timeAndDate2);
		Event expected3 = new Event("try3 ", new EventTime(sDate, eDate));
		Event result3 = Parser.parseForEvent(Parser.getParameter("add try3 from 10:00 to 11:00 22/10/2015"));
		assertTrue(isEqualEvent3(expected3,result3));
	}

	private boolean isEqualEvent1(Event A, Event B){
		if(!A.getComment().equals(B.getComment())){
			return false;
		}
		if(!A.getDetail().equals(B.getDetail())){
			return false;
		}
		if(!A.getStatus().equals(B.getStatus())){
			return false;
		}
		/*
		if(!A.getDeadline().getDeadline().equals(B.getDeadline().getDeadline())){
			return false;
		}
		if(!A.getEventTime().getStart().equals(B.getEventTime().getStart())){
			return false;
		}
		if(!A.getEventTime().getEnd().equals(B.getEventTime().getEnd())){
			return false;
		}*/
		return true;
	}

	private boolean isEqualEvent2(Event A, Event B){
		if(!A.getComment().equals(B.getComment())){
			return false;
		}
		if(!A.getDetail().equals(B.getDetail())){
			return false;
		}
		if(!A.getStatus().equals(B.getStatus())){
			return false;
		}

		if(!A.getDeadline().getDeadline().equals(B.getDeadline().getDeadline())){
			return false;
		}
		/*
		if(!A.getEventTime().getStart().equals(B.getEventTime().getStart())){
			return false;
		}
		if(!A.getEventTime().getEnd().equals(B.getEventTime().getEnd())){
			return false;
		}*/
		return true;
	}

	private boolean isEqualEvent3(Event A, Event B){
		if(!A.getComment().equals(B.getComment())){
			return false;
		}
		if(!A.getDetail().equals(B.getDetail())){
			return false;
		}
		if(!A.getStatus().equals(B.getStatus())){
			return false;
		}
		/*
		if(!A.getDeadline().getDeadline().equals(B.getDeadline().getDeadline())){
			return false;
		}
		*/
		if(!A.getEventTime().getStart().equals(B.getEventTime().getStart())){
			return false;
		}
		if(!A.getEventTime().getEnd().equals(B.getEventTime().getEnd())){
			return false;
		}
		return true;
	}
}
```
###### src\Junit_Test\SystemTest.java
``` java
package Junit_Test;

import java.io.IOException;
import java.util.Date;

import Fonts.ChineseJudge;

import java.text.ParseException;

import GUI.TrayController;
import GUI.UIBuffer;
import GUI.UIHotKey;
import GUI.UITask;
import Image.ImageJudge;
import Logic.MainLogic;
import javafx.embed.swing.JFXPanel;
import junit.framework.TestCase;

public class SystemTest extends TestCase{
	private static String SPACE = " ";
	private UIBuffer myUIBuffer = null;
	private ImageJudge myImageJudge = null;
	private ChineseJudge myChineseJudge = null;
	private TrayController myTrayController = null;
	@Override  
    protected void setUp() throws Exception {  
		MainLogic.initialize();
		myUIBuffer = UIBuffer.getInstance();
		myImageJudge =  ImageJudge.getInstance();
		myChineseJudge = ChineseJudge.getInstance();
		myTrayController = TrayController.getInstance();
    } 
	
	public void testClear() throws IOException, ParseException{
		String returnedMessage = MainLogic.implement("clearall").substring(20);//MainLogic.implement("clearall").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "clearall" + "\n" + SPACE 
								+ "All contents cleared! Please Undo now if you made a mistake!";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testAddMemo() throws IOException, ParseException{
		String returnedMessage = MainLogic.implement("add test memo").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "add test memo" + "\n" + SPACE 
								+ "Event added successfully!";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testAddEmpty() throws IOException, ParseException{
		String returnedMessage = MainLogic.implement("add ").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "add " + "\n" + SPACE 
								+ "Cannot add empty event!";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testAddMemoWithFromTo() throws IOException, ParseException{
		String returnedMessage = MainLogic.implement("add test memo from a to b").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "add test memo from a to b" + "\n" + SPACE 
								+ "Event added successfully!";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testAddMemoWithBy() throws IOException, ParseException{
		String returnedMessage = MainLogic.implement("add test memo by c").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "add test memo by c" + "\n" + SPACE 
								+ "Event added successfully!";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testAddEventWithFullDate() throws IOException, ParseException{
		String returnedMessage = MainLogic.implement("add test Event from 10:00 to 11:00 04/11/2015").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "add test Event from 10:00 to 11:00 04/11/2015" + "\n" + SPACE 
								+ "Event added successfully!";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testAddDeadlineWithFullDate() throws IOException, ParseException{
		String returnedMessage = MainLogic.implement("add test deadline by 10:00 04/11/2015").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "add test deadline by 10:00 04/11/2015" + "\n" + SPACE 
								+ "Event added successfully!";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testAddEventWithWordDateToday() throws IOException, ParseException{
		String returnedMessage = MainLogic.implement("add test Event from 10:00 to 11:00 today").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "add test Event from 10:00 to 11:00 today" + "\n" + SPACE 
								+ "Event added successfully!";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testAddEventWithWordDateTmr() throws IOException, ParseException{
		String returnedMessage = MainLogic.implement("add test Event from 10:00 to 11:00 tomorrow").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "add test Event from 10:00 to 11:00 tomorrow" + "\n" + SPACE 
								+ "Event added successfully!";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testAddDeadlineWithWordDateToday() throws IOException, ParseException{
		MainLogic.implement("add test by 12:00 today");
		String returnedMessage = MainLogic.implement("add test by 12:00 today").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "add test by 12:00 today" + "\n" + SPACE 
								+ "Event added successfully!";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testAddDeadlineWithWordDateTmr() throws IOException, ParseException{
		String returnedMessage = MainLogic.implement("add test deadline by 10:00 tomorrow").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "add test deadline by 10:00 tomorrow" + "\n" + SPACE 
								+ "Event added successfully!";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	
	public void testAddEventWithShortDateTmr() throws IOException, ParseException{
		String returnedMessage = MainLogic.implement("add test Event from 10:00 to 11:00 tmr").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "add test Event from 10:00 to 11:00 tmr" + "\n" + SPACE 
								+ "Event added successfully!";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testAddDeadlineWithShortDateTmr() throws IOException, ParseException{
		String returnedMessage = MainLogic.implement("add test deadline by 10:00 tmr").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "add test deadline by 10:00 tmr" + "\n" + SPACE 
								+ "Event added successfully!";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testOutline() throws IOException, ParseException{
		String returnedMessage = MainLogic.implement("outline").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "outline" + "\n" + SPACE 
								+ "Events of today and tomorrow displayed on the right!";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testReadAll() throws IOException, ParseException{
		String returnedMessage = MainLogic.implement("readall").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "readall" + "\n" + SPACE 
								+ "All events are displayed!";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testReadDeadline() throws IOException, ParseException{
		MainLogic.implement("add test by 11:00 08/11/2015");
		String returnedMessage = MainLogic.implement("read d1").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "read d1" + "\n" + SPACE 
								+ "Detail: test \n" + " Comment: \n" + " Time: 11:00 08/11/2015";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testReadDeadlineFailed() throws IOException, ParseException{
		String returnedMessage = MainLogic.implement("read d50").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "read d50" + "\n" + SPACE 
								+ "There is no event at the input index!";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testReadMemo() throws IOException, ParseException{
		String returnedMessage = MainLogic.implement("read m1").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "read m1" + "\n" + SPACE 
								+ "Detail: test memo by c\n" + " Comment: \n" + " Time: ";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testReadMemoFailed() throws IOException, ParseException{
		String returnedMessage = MainLogic.implement("read m10").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "read m10" + "\n" + SPACE 
								+ "There is no event at the input index!";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testReadEventFailed() throws IOException, ParseException{
		String returnedMessage = MainLogic.implement("read e1").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "read e1" + "\n" + SPACE 
								+ "There is no event at the input index!";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testReadEvent() throws IOException, ParseException{
		MainLogic.implement("add test from 10:00 to 11:00 today");
		String returnedMessage = MainLogic.implement("read e1").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "read e1" + "\n" + SPACE 
								+ "Detail: test Event \n" + " Comment: \n" + " Time: 10:00-11:00 04/11/2015";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testReadToday() throws IOException, ParseException{
		String returnedMessage = MainLogic.implement("read today").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "read today" + "\n" + SPACE 
								+ "Events of today displayed on the right!";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testReadTomorrow() throws IOException, ParseException{
		String returnedMessage = MainLogic.implement("read tomorrow").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "read tomorrow" + "\n" + SPACE 
								+ "Events of tomorrow displayed on the right!";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testReadTomorrowShort() throws IOException, ParseException{
		String returnedMessage = MainLogic.implement("read tmr").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "read tmr" + "\n" + SPACE 
								+ "Events of tomorrow displayed on the right!";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testDelete() throws IOException, ParseException{
		MainLogic.implement("add test by 11:00 today");
		String returnedMessage = MainLogic.implement("delete d1").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "delete d1" + "\n" + SPACE 
								+ "Delete successfully!";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testUpdate() throws IOException, ParseException{
		MainLogic.implement("add test by 11:00 today");
		String returnedMessage = MainLogic.implement("update d1 abc by 10:00 today").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "update d1 abc by 10:00 today" + "\n" + SPACE 
								+ "Event updated successfully!";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testUndo() throws IOException, ParseException{
		MainLogic.implement("add test by 11:00 today");
		String returnedMessage = MainLogic.implement("undo").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "undo" + "\n" + SPACE 
								+ "Undo operation successful!";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testUndoError() throws IOException, ParseException{
		MainLogic.implement("add test by 11:00 today");
		String returnedMessage = MainLogic.implement("undo abc").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "undo abc" + "\n" + SPACE 
								+ "Unrecognized parameter!";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testCannotUndo() throws IOException, ParseException{
		MainLogic.implement("add test by 11:00 today");
		MainLogic.implement("undo");
		String returnedMessage = MainLogic.implement("undo").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "undo" + "\n" + SPACE 
								+ "Cannot undo! Do some operations first!";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testRedo() throws IOException, ParseException{
		MainLogic.implement("add test by 11:00 today");
		MainLogic.implement("undo");
		String returnedMessage = MainLogic.implement("redo").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "redo" + "\n" + SPACE 
								+ "Redo operation successful!";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testRedoError() throws IOException, ParseException{
		MainLogic.implement("add test by 11:00 today");
		MainLogic.implement("undo");
		String returnedMessage = MainLogic.implement("redo it").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "redo it" + "\n" + SPACE 
								+ "Unrecognized parameter!";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testCannotRndo() throws IOException, ParseException{
		MainLogic.implement("add test by 11:00 today");
		MainLogic.implement("undo");
		MainLogic.implement("redo");
		String returnedMessage = MainLogic.implement("redo").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "redo" + "\n" + SPACE 
								+ "Cannot redo if you did not undo!";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testCommentDeadline() throws IOException, ParseException{
		MainLogic.implement("add test by 11:00 today");
		String returnedMessage = MainLogic.implement("comment d1 test comment").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "comment d1 test comment" + "\n" + SPACE 
								+ "Comment added successfully!";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testCommentMemo() throws IOException, ParseException{
		MainLogic.implement("add test comment");
		String returnedMessage = MainLogic.implement("comment m1 test comment").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "comment m1 test comment" + "\n" + SPACE 
								+ "Comment added successfully!";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testCommentEvent() throws IOException, ParseException{
		MainLogic.implement("add test from 10:00 to 11:00 today");
		String returnedMessage = MainLogic.implement("comment e1 test comment").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "comment e1 test comment" + "\n" + SPACE 
								+ "Comment added successfully!";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testMarkDeadline() throws IOException, ParseException{
		MainLogic.implement("add test by 11:00 today");
		String returnedMessage = MainLogic.implement("mark d1").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "mark d1" + "\n" + SPACE 
								+ "Event marked successfully!";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testMarkMemo() throws IOException, ParseException{
		MainLogic.implement("add test mark");
		String returnedMessage = MainLogic.implement("mark m1").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "mark m1" + "\n" + SPACE 
								+ "Event marked successfully!";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testMarkEvent() throws IOException, ParseException{
		MainLogic.implement("add test from 10:00 to 11:00 today");
		String returnedMessage = MainLogic.implement("mark e1").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "mark e1" + "\n" + SPACE 
								+ "Event marked successfully!";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testNUSMODS() throws IOException, ParseException{
		String returnedMessage = MainLogic.implement("nusmods").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "nusmods" + "\n" + SPACE 
								+ "Show nusmods successfully!";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testNUSMODSError() throws IOException, ParseException{
		String returnedMessage = MainLogic.implement("nusmods abc").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "nusmods abc" + "\n" + SPACE 
								+ "Unrecognized parameter!";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testTodolist() throws IOException, ParseException{
		String returnedMessage = MainLogic.implement("todolist").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "todolist" + "\n" + SPACE 
								+ "Show TodoList successfully!";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testTodolistError() throws IOException, ParseException{
		String returnedMessage = MainLogic.implement("todolist abc").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "todolist abc" + "\n" + SPACE 
								+ "Unrecognized parameter!";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testRecurDeadline() throws IOException, ParseException{
		MainLogic.implement("add test by 11:00 today");
		String returnedMessage = MainLogic.implement("recur d1 1 1").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "recur d1 1 1" + "\n" + SPACE 
								+ "Recur set successfully!";
		MainLogic.implement("delete d1");
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testRecurEvent() throws IOException, ParseException{
		MainLogic.implement("add test from 00:01 to 00:02 08/11/2015");
		String returnedMessage = MainLogic.implement("recur e1 1 50").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "recur e1 1 50" + "\n" + SPACE 
								+ "Recur set successfully!";
		MainLogic.implement("delete d1");
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testReadmark() throws IOException, ParseException{
		MainLogic.implement("add test by 11:00 today");
		String returnedMessage = MainLogic.implement("readmark").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "readmark" + "\n" + SPACE 
								+ "All marked events are displayed!";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testUnmarkDeadline() throws IOException, ParseException{
		MainLogic.implement("add test by 11:00 today");
		MainLogic.implement("mark d1");
		MainLogic.implement("readmark");
		String returnedMessage = MainLogic.implement("unmark d1").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "unmark d1" + "\n" + SPACE 
								+ "Event unmarked successfully!";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testUnmarkEvent() throws IOException, ParseException{
		MainLogic.implement("add test from 11:00 to 12:00 today");
		MainLogic.implement("mark e1");
		MainLogic.implement("readmark");
		String returnedMessage = MainLogic.implement("unmark e1").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "unmark e1" + "\n" + SPACE 
								+ "Event unmarked successfully!";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testUnmarkMemo() throws IOException, ParseException{
		MainLogic.implement("add test unmark");
		MainLogic.implement("mark m1");
		MainLogic.implement("readmark");
		String returnedMessage = MainLogic.implement("unmark m1").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "unmark m1" + "\n" + SPACE 
								+ "Event unmarked successfully!";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testHelp() throws IOException, ParseException{
		String returnedMessage = MainLogic.implement("help").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "help" + "\n" + SPACE 
								+ "add\n theme\n read\n outline\n delete\n search\n update\n undo\n redo\n comment\n recur\n mark\n readmark\n unmark\n setpath\n nusmods\n todolist\n help\n clearall\n exit";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testHelpAdd() throws IOException, ParseException{
		String returnedMessage = MainLogic.implement("help add").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "help add" + "\n" + SPACE 
								+ "You can add 3 types of event to your list, namely deadline event, event-time event and memo event\n For events with deadline, type in \"add (event name) by HH:MM DD/MM/YYYY\"\n For events with event time, type in \"add (event name) from HH:MM to HH:MM DD/MM/YYYY\"\n For events without a time, type in \"add (event name)\"";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testHelpTheme() throws IOException, ParseException{
		String returnedMessage = MainLogic.implement("help theme").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "help theme" + "\n" + SPACE 
								+ "You can change the picture you display on the right hand side panel. There are two pre-set pictures and you can change between them using \"theme 1\" (\"theme default\") and \"theme 2\"\n To use your own picture, manually add a picture of size 383*418 and file type png into the user.dir folder. Rename it to myTheme. Then you can change to this picture by typing in \"theme my theme\"";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testHelpRead() throws IOException, ParseException{
		String returnedMessage = MainLogic.implement("help read").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "help read" + "\n" + SPACE 
								+ "As you can see your events listed under three categories on the right, you can read detailed information about each one by typing in \"read\", event type (d, e, m) and index.\n For example, \"read d1\" can give you information on first deadline event.\n You can also use \"read\" to check all the events on today or tomorrow, simply type \"read today\" or \"read tomorrow(tmr)\"";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testHelpOutline() throws IOException, ParseException{
		String returnedMessage = MainLogic.implement("help outline").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "help outline" + "\n" + SPACE 
								+ "You can type \"outline\" to view all the events of today and tomorrow";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testHelpDelete() throws IOException, ParseException{
		String returnedMessage = MainLogic.implement("help delete").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "help delete" + "\n" + SPACE 
								+ "With reference to the right hand side panel, you can delete an event by typing in \"delete\", event type (d, e, m) and index.\n For example, \"delete d1\" will remove the first deadline event";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testHelpSearch() throws IOException, ParseException{
		String returnedMessage = MainLogic.implement("help search").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "help search" + "\n" + SPACE 
								+ "You can use the simple search to quickly locate an event. Type in \"search\" and your keyword. The events containing your keyword (ignore case) will be displayed on the right";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testHelpUpdate() throws IOException, ParseException{
		String returnedMessage = MainLogic.implement("help update").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "help update" + "\n" + SPACE 
								+ "You can update the detail of an event by typing in \"update\", event type (d, e, m) and index, new event detail.\n For example, typing \"update m1 go to school\" will replace the event name of first event in memo to \"go to school\"";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testHelpUndo() throws IOException, ParseException{
		String returnedMessage = MainLogic.implement("help undo").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "help undo" + "\n" + SPACE 
								+ "Type in \"undo\" to revert your previous changes. Keep in mind you can only undo the latest operation";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testHelpRedo() throws IOException, ParseException{
		String returnedMessage = MainLogic.implement("help redo").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "help redo" + "\n" + SPACE 
								+ "Type in \"redo\" to revert your undo operation";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testHelpComment() throws IOException, ParseException{
		String returnedMessage = MainLogic.implement("help comment").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "help comment" + "\n" + SPACE 
								+ "You can set comment for events by typing in \"comment\", event type (d, e, m) and index, comment information.\n For example, typing \"comment e1 ASAP\" will set a comment for the first event in event-time event. You will see an icon highlighted for events with comments and you can read the comments by reading that event";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testHelpRecur() throws IOException, ParseException{
		String returnedMessage = MainLogic.implement("help recur").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "help recur" + "\n" + SPACE 
								+ "You can set an event as recurring task by typing in \"recur\", event type (d, e, m) and index, the number of days for one iteration, the number of iterations desired.\n For example, typing \"recur d1 7 10\" will set the first deadline event as recurring event, which happens every 7 days (each week) and happens for 10 times (including the intial one)\n However keep in mind, you cannot recur a memo event as we do not know when you do it the first time!";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testHelpMark() throws IOException, ParseException{
		String returnedMessage = MainLogic.implement("help mark").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "help mark" + "\n" + SPACE 
								+ "You can mark an event as done by typing in \"mark\", event type (d, e, m) and index.\n An event will not be seen once you mark it as done. If you made a mistake, undo or type in \"readmark\" to find the list of marked event. You can then use \"unmark\" and the index to unmark an event";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testHelpReadmark() throws IOException, ParseException{
		String returnedMessage = MainLogic.implement("help readmark").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "help readmark" + "\n" + SPACE 
								+ "Type in \"readmark\" and you can see the list of marked event";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testHelpHelp() throws IOException, ParseException{
		String returnedMessage = MainLogic.implement("help help").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "help help" + "\n" + SPACE 
								+ "You can always refer to helplist for all the commands available\n Type in \"help\" you can see a list of all commands available\n Type in \"help\" and the command you want to know to learn more about it!";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testHelpUnmark() throws IOException, ParseException{
		String returnedMessage = MainLogic.implement("help unmark").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "help unmark" + "\n" + SPACE 
								+ "After you have get the list of marked event, you can \"unmark\" it to let it appear in your normal list again. Note that unmarking an event which is not marked previously will make no changes";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testHelpSetpath() throws IOException, ParseException{
		String returnedMessage = MainLogic.implement("help setpath").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "help setpath" + "\n" + SPACE 
								+ "Type in \"setpath\" followed by the path you want to store your data file.\n Note that this will create a new empty file in the location you specified so please move your old data file to the new location if you still need the old list!";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testHelpNusmods() throws IOException, ParseException{
		String returnedMessage = MainLogic.implement("help nusmods").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "help nusmods" + "\n" + SPACE 
								+ "Type in \"nusmods\" and you can go to the NUSMODS website to allow you to check the timetable quickly!\n To go back to your list, just type \"todolist\"";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testHelpTodolist() throws IOException, ParseException{
		String returnedMessage = MainLogic.implement("help todolist").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "help todolist" + "\n" + SPACE 
								+ "Type in \"todolist\" to go back to your list from NUSMODS website or other features!";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testHelpClearall() throws IOException, ParseException{
		String returnedMessage = MainLogic.implement("help clearall").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "help clearall" + "\n" + SPACE 
								+ "You can clear all the tasks in the list by typing in \"clearall\".\n Undo at once if you made a mistake! Otherwise you will permanently lose your list";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testHelpExit() throws IOException, ParseException{;
		String returnedMessage = MainLogic.implement("help exit").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "help exit" + "\n" + SPACE 
								+ "You can exit the app by typing in \"exit\"";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testHelpError() throws IOException, ParseException{
		String returnedMessage = MainLogic.implement("help abc").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "help abc" + "\n" + SPACE 
								+ "The command you entered is not found\n Please check to ensure you entered the correct command word!";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testSearch() throws IOException, ParseException{
		String returnedMessage = MainLogic.implement("search test").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "search test" + "\n" + SPACE 
								+ "The list of found results are on the right!";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testThemeOne() throws IOException, ParseException{
		String returnedMessage = MainLogic.implement("theme 1").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "theme 1" + "\n" + SPACE 
								+ "Background is changed to the default!";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testThemeTwo() throws IOException, ParseException{
		String returnedMessage = MainLogic.implement("theme 2").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "theme 2" + "\n" + SPACE 
								+ "Background is changed successfully!";
		assertEquals(returnedMessage, expectedMessage);
	}

	public void testReadallError() throws IOException, ParseException{
		String returnedMessage = MainLogic.implement("readall abc").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "readall abc" + "\n" + SPACE 
								+ "Unrecognized parameter!";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testUselessCommands() throws IOException, ParseException{
		String returnedMessage = MainLogic.implement("abc").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "abc" + "\n" + SPACE 
								+ "Error!";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testReadMark() throws IOException, ParseException{
		String returnedMessage = MainLogic.implement("readmark").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "readmark" + "\n" + SPACE 
								+ "All marked events are displayed!";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testReadMarkError() throws IOException, ParseException{
		String returnedMessage = MainLogic.implement("readmark abc").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "readmark abc" + "\n" + SPACE 
								+ "Unrecognized parameter!";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testSetpath() throws IOException, ParseException{
		String returnedMessage = MainLogic.implement("setpath mytest/test").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "setpath mytest/test" + "\n" + SPACE 
								+ "New path set successfully!";
		MainLogic.implement("setpath user.dir/Yui");
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testExitError() throws IOException, ParseException{
		String returnedMessage = MainLogic.implement("exit abc").substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "exit abc" + "\n" + SPACE 
								+ "Unrecognized parameter!";
		MainLogic.implement("setpath user.dir/Yui");
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testUIBufferInstance(){
		myUIBuffer = UIBuffer.getInstance();
		assertTrue(myUIBuffer != null);
	}
	
	public void testUIBufferGetList() throws IOException, ParseException{
		myUIBuffer.getList();
		assertTrue(myUIBuffer.DeadlineList() != null && myUIBuffer.EventList() != null && myUIBuffer.FloatingList() != null);
	}
	
	public void testUIBufferInitializeCommand() throws IOException, ParseException{
		myUIBuffer.initializeCommand("");
		String returnedMessage = myUIBuffer.returnedCommand().substring(20);
		String expectedMessage = " Hello, my master. Welcome back." + "\n" + " This is Yui!  <(^v^)/ "
				+ "\n" + " The events of today is shown on the right " + "\n" + " -What would you like to do?\n";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testUIBufferGetFeeadBack() throws IOException, ParseException{
		myUIBuffer.getFeedback("add buffer test");
		String returnedMessage = myUIBuffer.returnedCommand().substring(20);
		String expectedMessage = SPACE + "Command Entered: " + "add buffer test" + "\n" + SPACE 
								+ "Event added successfully!";
		assertEquals(returnedMessage, expectedMessage);
	}
	
	public void testUIBufferGetTheme() throws IOException, ParseException{
		myUIBuffer.getTheme();
		assertEquals(myUIBuffer.theme(), "2");
	}
	
	public void testUIBufferGetIsShowMainGrid() throws IOException, ParseException{
		myUIBuffer.getIsShowMainGrid();
		assertEquals(myUIBuffer.isShowMainGrid(), true);
	}
	
	public void testImageJudgeIsToday(){
		Date today = new Date();
		assertEquals(myImageJudge.isToday(today), true);
	}
	
	public void testImageJudgeNotToday(){
		Date notToday = new Date(0);
		assertEquals(myImageJudge.isToday(notToday), false);
	}
	
	public void testImageJudgeIsComment(){
		assertEquals(myImageJudge.isCommented("abc"), true);
	}
	public void testChineseJudgeNotChinses(){
		assertEquals(myChineseJudge.isContainsChinese("abc"), false);
	}
	
	public void testChineseJudgeIsChinses(){
		assertEquals(myChineseJudge.isContainsChinese(""), true);
	}
	
	public void testTrayControllerInstance(){
		myTrayController = TrayController.getInstance();
		assertTrue(myTrayController != null);
	}
	
	public void testUIHotKey(){
		UIHotKey myUIHotKey = UIHotKey.getInstance();
		assertTrue(myUIHotKey != null);
	}
	
	public void testUITaskEvent() throws IOException, ParseException{
		JFXPanel myPanel = new JFXPanel();
		myUIBuffer.getList();
		UITask myTaskEvent = null;
		UITask myTaskDeadline = null;
		UITask myTaskMemo = null;
		myTaskEvent = new UITask(myUIBuffer.EventList().get(0));
		myTaskDeadline = new UITask(myUIBuffer.DeadlineList().get(0));
		myTaskMemo = new UITask(myUIBuffer.FloatingList().get(0));
		assertTrue(myTaskEvent != null && myTaskDeadline != null && myTaskMemo != null);
	}
}

	
```
###### src\Logic\Action.java
``` java
	public static String bground(Storage s, ArrayList<String> parameter) throws IOException {
		if (!(parameter.get(0).toLowerCase().equals("default") || parameter.get(0).equals("1"))) {
			String theme = parameter.get(0);
			if (theme.equals("2")) {
				configedTheme = theme;
				saveConfigedTheme(s);
				return CHANGE_BG_SUCCESSFUL_MSG;
			} else if (theme.equals("my theme")) {
				configedTheme = theme;
				File myTheme = new File(Yui_GUI.listBackgroundPath3);
				if (myTheme.exists()) {
					saveConfigedTheme(s);
					return CHANGE_BG_SUCCESSFUL_MSG;
				} else {
					return NO_MY_THEME_MSG;
				}
			} else {
				return INVALID_THEME_MSG;
			}

		} else {
			configedTheme = "1";
			saveConfigedTheme(s);
			return CHANGE_BG_DEFAULT_SUCCESSFUL_MSG;
		}
	}

```
###### src\Logic\Action.java
``` java
	private static void saveConfigedTheme(Storage s) throws IOException {
		ArrayList<String> config = s.loadConfig();
		config.set(1, configedTheme);
		s.saveConfig(config);
	}

```
###### src\Logic\Action.java
``` java
	public static String nusmods() {
		isShowNusMods = true;
		return NUS_MOD_SUCCESSFUL_MSG;
	}

```
###### src\Logic\Action.java
``` java
	public static String todolist() {
		isShowNusMods = false;
		return TODOLIST_SUCCESSFUL_MSG;
	}

```
###### src\Logic\Action.java
``` java
	public static boolean getIsShow() {
		return isShowNusMods;
	}

```
###### src\Logic\Action.java
``` java
	public static String setpath(Storage s, ArrayList<String> parameter) throws IOException, ParseException {
		MainLogic.s = new Storage("Yui", Paths.get(parameter.get(0)));
		ArrayList<String> config = MainLogic.s.loadConfig();
		config.set(0, Paths.get(parameter.get(0)).toString());
		MainLogic.s.saveConfig(config);
		readAll(MainLogic.s);
		return SETPATH_SUCCESSFUL_MSG;
	}

```
###### src\Logic\MainLogic.java
``` java
	public static boolean getIsShow() {
		return Action.getIsShow();
	}

```
###### src\Logic\MainLogic.java
``` java
	public static String getTheme() {
		return Action.configedTheme;
	}

```
###### src\Logic\MainLogic.java
``` java
	private static void loadConfigInLogic() throws IOException {
		s = new Storage("Yui");
		ArrayList<String> config = s.loadConfig();
		Path mySavePath = Paths.get(config.get(0));
		// Path myTempPath = Paths.get(config.get(0) + "\\temp\\");
		s = new Storage("Yui", mySavePath);
		// s.mainDir = mySavePath;
		// s.tempDir = myTempPath;
		Action.configedTheme = config.get(1);
	}

}
```
###### src\Storage\Storage.java
``` java
	public void saveConfig(ArrayList<String> config){
		BufferedWriter bw;
		try {
			bw = new BufferedWriter(new FileWriter(CONFIG_DIR.toString()));

			for (String line : config) {
				bw.write(line);
				bw.newLine();
			}
			bw.close();
		} catch (FileNotFoundException e) {
			System.err.println("invalid save directory, unable to create save file in that location");
		} catch (IOException e) {
			e.printStackTrace();
		}
	}
```
###### src\Storage\Storage.java
``` java
	private void initConfig(ArrayList<String> config){
		config.add(mainDir.toString());
		config.add("1");
		saveConfig(config);
	}
```
###### src\Storage\Storage.java
``` java
	public ArrayList<String> loadConfig() throws IOException{
		createFile(CONFIG_DIR);
		List<String> preCopy = Files.readAllLines(CONFIG_DIR, Charset.forName("GBK"));
		ArrayList<String> copy = new ArrayList<String>();
		for (String line : preCopy) {
			copy.add(line);
		}
		if(copy.size() == 0){
			initConfig(copy);
		}
		return copy;
	}
	
```
